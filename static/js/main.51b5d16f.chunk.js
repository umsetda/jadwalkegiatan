(window["webpackJsonpjadwalsetda-web"]=window["webpackJsonpjadwalsetda-web"]||[]).push([[0],{19:function(e,a,t){e.exports=t(33)},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(16),r=t.n(c),s=t(1),i=t(2),m=t(8);var o=function(){return l.a.createElement("div",{className:"cs-loading"},l.a.createElement("i",{className:"fas fa-spinner fa-spin"}))};function u(){return localStorage.hasOwnProperty("token")?localStorage.getItem("token"):null}function d(){return localStorage.hasOwnProperty("username")?localStorage.getItem("username"):null}function E(){if(localStorage.hasOwnProperty("role"))return localStorage.getItem("role")}function p(){if(localStorage.hasOwnProperty("isObserver"))return localStorage.getItem("isObserver")}var v=Object(m.g)((function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],r=t[1],m=E(),o=p();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"navbar is-white is-fixed-top"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(i.b,{to:"/",className:"navbar-item brand-text"},"Jadwal Setda"),l.a.createElement("div",{className:"navbar-burger burger".concat(c?" is-active":""),onClick:function(){return r(!c)}},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{className:"navbar-menu".concat(c?" is-active":"")},l.a.createElement("div",{className:"navbar-start is-mobile-only"},l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement(i.b,{to:"#",className:"navbar-link"},"Gedung & Ruangan"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement(i.b,{to:"/events/setda",className:"navbar-item",onClick:function(){return r(!1)}},"Sekretariat"),"super"===m||"adipura"===m?l.a.createElement(i.b,{to:"/events/adipura",className:"navbar-item",onClick:function(){return r(!1)}},"Gedung Adipura"):null)),"super"===m||"true"===o?l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement(i.b,{to:"#",className:"navbar-link"},"Pejabat Daerah"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement(i.b,{to:"/events/bupati",className:"navbar-item",onClick:function(){return r(!1)}},"Bupati"),l.a.createElement(i.b,{to:"/events/wakil",className:"navbar-item",onClick:function(){return r(!1)}},"Wakil Bupati"),l.a.createElement(i.b,{to:"/events/sekda",className:"navbar-item",onClick:function(){return r(!1)}},"Sekretaris Daerah"))):null,"super"===m?l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement(i.b,{to:"#",className:"navbar-link"},"Admin"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement(i.b,{to:"/places",className:"navbar-item",onClick:function(){return r(!1)}},"Tempat"),l.a.createElement(i.b,{to:"/users",className:"navbar-item",onClick:function(){return r(!1)}},"Pengguna"))):null),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement(i.b,{to:"#",className:"navbar-link"},e.name?e.name:"Akun"),l.a.createElement("div",{className:"navbar-dropdown is-right"},l.a.createElement(i.b,{to:e.name?"#":"/login",className:"navbar-item",onClick:e.name?function(){r(!1),e.notify("Berhasil log keluar"),localStorage.clear(),e.setName(""),e.history.push("/")}:function(){r(!1)}},e.name?"Log Keluar":"Log Masuk"),l.a.createElement("div",{className:"navbar-divider"}),l.a.createElement(i.b,{to:"/about",className:"navbar-item",onClick:function(){return r(!1)}},"Tentang Aplikasi"))))))))}));var b=function(){var e=E(),a=p();return l.a.createElement("div",{className:"column is-narrow is-hidden-mobile"},l.a.createElement("aside",{className:"menu is-hidden-mobile"},l.a.createElement("ul",{className:"menu-list"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/"},"BERANDA"))),l.a.createElement("p",{className:"menu-label"},"Jadwal Gedung & Ruangan"),l.a.createElement("ul",{className:"menu-list"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events/setda"},"Sekretariat")),"adipura"===e||"super"===e?l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events/adipura"},"Sasana Adipura Kencana")):null),"super"===e||"true"===a?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"menu-label"},"Jadwal Pejabat Daerah"),l.a.createElement("ul",{className:"menu-list"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events/bupati"},"Bupati")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events/wakil"},"Wakil Bupati")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events/sekda"},"Sekretaris Daerah")))):null,"super"===e?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"menu-label"},"Admin"),l.a.createElement("ul",{className:"menu-list"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/places"},"Daftar Tempat")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/users"},"Daftar Pengguna")))):null))};var f=function(e){var a=e.headers;return l.a.createElement("table",{className:"table is-fullwidth is-striped is-hoverable"},l.a.createElement("thead",null,l.a.createElement("tr",null,a.length?a.map((function(e,a){return l.a.createElement("th",{key:a,className:e.isHiddenMobile?" is-hidden-mobile":""},e.text)})):null)),l.a.createElement("tbody",null,e.children))};var h=function(e){return l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-left"},l.a.createElement("button",{className:"button is-link",onClick:function(){return e.setIsModalVisible(!0)}},"Tambah",e.title?" ".concat(e.title):null)),l.a.createElement("div",{className:"level-right"},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{type:"text",className:"input",placeholder:"ketik untuk mencari...",value:e.searchVal,onChange:function(a){return e.setSearchVal(a.target.value)}})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"button",className:"button".concat(e.searchVal?" is-danger":""),onClick:function(){return e.setSearchVal("")}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-backspace"})))))))};var N=function(e){return l.a.createElement("div",{className:"modal is-active"},l.a.createElement("div",{className:"modal-background",onClick:e.closeModal}),l.a.createElement("div",{className:"modal-card"},l.a.createElement("div",{className:"modal-card-body"},e.children)),l.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:e.closeModal}))};var g=function(e){return l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%",zIndex:"1000",padding:"1rem"}},l.a.createElement("div",{className:"notification is-warning",style:{margin:"0 auto",maxWidth:"500px"}},l.a.createElement("button",{type:"button",className:"delete",onClick:e.dismiss}),e.children))};var j=function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"content has-text-centered"},l.a.createElement("p",null,l.a.createElement("strong",null,"Jadwal Setda")," dikembangkan untuk Sekretariat Daerah Kabupaten Wonosobo."),l.a.createElement("p",null,"Shoutouts:\xa0",l.a.createElement("a",{target:"_blank",href:"https://pages.github.com/",rel:"noopener noreferrer"},"Github Pages"),",\xa0",l.a.createElement("a",{target:"_blank",href:"https://www.heroku.com/",rel:"noopener noreferrer"},"Heroku"),",\xa0",l.a.createElement("a",{target:"_blank",href:"https://mlab.com/",rel:"noopener noreferrer"},"mLab"),",\xa0",l.a.createElement("a",{target:"_blank",href:"https://nodejs.org/",rel:"noopener noreferrer"},"NodeJS"),",\xa0",l.a.createElement("a",{target:"_blank",href:"https://reactjs.org/",rel:"noopener noreferrer"},"React"),".")))},k=t(3),O=t.n(k);var w=function(){var e="https://jadwalsetda.herokuapp.com/api/events/",a=p(),t=Object(n.useState)([]),c=Object(s.a)(t,2),r=c[0],m=c[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),E=d[0],v=d[1];return Object(n.useEffect)((function(){!function(){var a=O()().startOf("day").utc().format("YYYY-MM-DD HH:mm"),t=O()().endOf("day").utc().format("YYYY-MM-DD HH:mm"),n=e+"?type=".concat("setda","&from=").concat(a,"&to=").concat(t);v(!0),fetch(n).then((function(e){return e.json()})).then((function(e){v(!1),m(e)})).catch((function(e){v(!1),console.log(e)}))}()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"title"},"Jadwal Hari Ini"),E?l.a.createElement(o,null):null,r.length?l.a.createElement("div",{className:"evm"},r.map((function(e){return l.a.createElement("div",{key:e._id,className:"evm-item is-today"},l.a.createElement("div",{className:"evm-left"},l.a.createElement("div",{className:"evm-date"},e.dateTime?O()(e.dateTime).local().format("D MMM"):null,l.a.createElement("br",null),e.dateTime?O()(e.dateTime).local().format("YYYY"):null),l.a.createElement("div",{className:"evm-time"},e.dateTime?O()(e.dateTime).local().format("HH:mm"):null)),l.a.createElement("div",{className:"evm-right"},l.a.createElement("div",{className:"evm-name"},e.name),l.a.createElement("div",{className:"evm-details"},e.place?l.a.createElement("div",{className:"evm-detail"},l.a.createElement("div",{className:"evm-icon"},l.a.createElement("i",{className:"fas fa-map-marker-alt"})),e.place):null,e.pic?l.a.createElement("div",{className:"evm-detail"},l.a.createElement("div",{className:"evm-icon"},l.a.createElement("i",{className:"fas fa-briefcase"})),e.pic,e.participant?" - ".concat(e.participant):null):null,e.notes&&"true"===a?l.a.createElement("div",{className:"evm-detail"},l.a.createElement("div",{className:"evm-icon"},l.a.createElement("i",{className:"fas fa-clipboard"})),e.notes):null)))}))):null,E?null:l.a.createElement("div",{style:{margin:"1rem 0"}},l.a.createElement("button",{className:"button"},l.a.createElement(i.b,{to:"/events/setda"},"Selengkapnya..."))))};var y=function(){return l.a.createElement("div",{className:"box"},l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"content"},l.a.createElement("h1",{className:"title"},"Aplikasi Jadwal Setda"),l.a.createElement("p",null,"Aplikasi dikembangkan untuk Sekretariat Daerah Kabupaten Wonosobo. Gunakan dengan penuh tanggung jawab!"),l.a.createElement("p",null,"Masalah, komplain atau saran? email ke rudyhmn@outlook.com"),l.a.createElement("h2",{className:"title"},"Role Pengguna"),l.a.createElement("ol",{type:"1"},l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Super Admin"),": (super) Full Control Jadwal, Admin Pengguna, Admin Tempat"),l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Ajudan Bupati"),": (ajbup) Admin Jadwal Bupati"),l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Ajudan Wakil Bupati"),": (ajwak) Admin Jadwal Wakil Bupati"),l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Ajudan Sekda"),": (ajsek) Admin Jadwal Sekretaris Daerah"),l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Admin Adipura"),": (ptadi) Admin Jadwal Gedung Sasana Adipura Kencana"),l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Admin Setda"),": (ptset) Admin Jadwal Ruang Rapat, Pendopo, Alun-alun"),l.a.createElement("li",null,l.a.createElement("span",{className:"has-text-weight-semibold"},"Observer"),": Pengguna yang dapat melihat Jadwal Pejabat")))))};var S=function(){return l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"title"},"404!"),l.a.createElement("p",null,"Not Found! Periksa kembali tautan yang dituju."))},M="https://jadwalsetda.herokuapp.com/api/users/authenticate";var Y=Object(m.g)((function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),c=t[0],r=t[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),o=m[0],u=m[1],d=Object(n.useState)(!1),E=Object(s.a)(d,2),p=E[0],v=E[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"card",style:{maxWidth:"450px",margin:"0 auto"}},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"title"},"Log Masuk"),l.a.createElement("form",{onSubmit:function(a){v(!0),fetch(M,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:c,password:o})}).then((function(e){return e.json()})).then((function(a){!function(e){localStorage.setItem("token",e.token),localStorage.setItem("username",e.doc.username),localStorage.setItem("name",e.doc.name),localStorage.setItem("role",e.doc.role.name),localStorage.setItem("isObserver",e.doc.role.isObserver)}(a),v(!1),e.setName(a.doc.name||a.doc.username),e.notify("Login berhasil"),e.history.push("/")})).catch((function(e){return console.log(e)})),a.preventDefault()}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Username"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:c,onChange:function(e){return r(e.target.value)}}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"password",value:o,onChange:function(e){return u(e.target.value)}}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary\n                  ".concat(p?" is-loading":"","\n                  ")},"Login")))))))})),C="https://jadwalsetda.herokuapp.com/api/places/";function D(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),c=t[0],r=t[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),o=m[0],d=m[1],E=Object(n.useState)(""),p=Object(s.a)(E,2),v=p[0],b=p[1],f=Object(n.useState)(!1),h=Object(s.a)(f,2),g=h[0],j=h[1],k=Object(n.useState)(!1),O=Object(s.a)(k,2),w=O[0],y=O[1];return Object(n.useEffect)((function(){e.data&&(r(e.data._id),d(e.data.name||""),b(e.data.capacity||""))}),[e.data]),l.a.createElement(N,{closeModal:e.closeModal},l.a.createElement("h1",{className:"title"},c?"Ubah ":"Tambah ","Tempat"),l.a.createElement("form",{onSubmit:function(a){var t=c?C+c:C,n=c?"PUT":"POST",l={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+u()},r=JSON.stringify({name:o,capacity:v});j(!0),fetch(t,{method:n,headers:l,body:r}).then((function(){e.getPlaces(),e.closeModal()})).catch((function(e){return console.log(e)})),a.preventDefault()}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Nama"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:o,onChange:function(e){return d(e.target.value)}}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Kapasitas"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"number",value:v,onChange:function(e){return b(e.target.value)}}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary\n                ".concat(g&!w?" is-loading":"","\n                ")},"Simpan")),c?l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"button",onClick:function(){if(!w)return y(!0);j(!0),fetch(C+c,{method:"DELETE",headers:{Authorization:"Bearer "+u()}}).then((function(){e.getPlaces(),e.closeModal()})).catch((function(e){return console.log(e)}))},className:"button\n                  ".concat(w?" is-danger":" is-warning","\n                  ").concat(w&&g?" is-loading":"","\n                  ")},w?"Hapus Permanen":"Hapus")):null)))}var A=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),m=i[0],u=i[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),v=p[0],b=p[1],N=Object(n.useState)(null),g=Object(s.a)(N,2),j=g[0],k=g[1],O=Object(n.useState)(""),w=Object(s.a)(O,2),y=w[0],S=w[1],M=E();function Y(){c(!0),b([]),fetch(C).then((function(e){return e.json()})).then((function(e){c(!1),b(e)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){return Y()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"title"},"Daftar Tempat"),"super"===M?l.a.createElement(h,{searchVal:y,setSearchVal:S,setIsModalVisible:u}):null,t?l.a.createElement(o,null):null,v.length?l.a.createElement(f,{headers:[{text:"Tempat/Lokasi"},{text:"Maks"}]},v.map((function(e){var a=e.name.toLowerCase().indexOf(y.toLowerCase())>-1;return l.a.createElement("tr",{key:e._id,style:{cursor:"pointer"},className:a?"":"is-hidden",onClick:function(){"super"===M&&(u(!0),k(e))}},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.capacity))}))):null,m?l.a.createElement(D,{data:j,getPlaces:Y,closeModal:function(){u(!1),k(null)}}):null))},T="https://jadwalsetda.herokuapp.com/api/users/";function x(e){var a,t,c=e.user?e.user._id:null;e.user&&e.user.role&&(e.user.role.name&&(a=e.user.role.name),e.user.role.isObserver&&(t=e.user.role.isObserver));var r=Object(n.useState)(e.user?e.user.name:""),i=Object(s.a)(r,2),m=i[0],o=i[1],d=Object(n.useState)(e.user?e.user.username:""),E=Object(s.a)(d,2),p=E[0],v=E[1],b=Object(n.useState)(""),f=Object(s.a)(b,2),h=f[0],g=f[1],j=Object(n.useState)(a||"-"),k=Object(s.a)(j,2),O=k[0],w=k[1],y=Object(n.useState)(t||!1),S=Object(s.a)(y,2),M=S[0],Y=S[1],C=Object(n.useState)(!1),D=Object(s.a)(C,2),A=D[0],x=D[1];return l.a.createElement(N,{closeModal:e.closeModal},l.a.createElement("h1",{className:"title"},c?"Ubah ":"Tambah ","Pengguna"),l.a.createElement("form",{onSubmit:function(a){var t=c?T+c:T,n=c?"PUT":"POST",l={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+u()},r=JSON.stringify({name:m,username:p,password:h,role:O,isObserver:M});x(!0),fetch(t,{method:n,headers:l,body:r}).then((function(){e.getUsers(),e.closeModal()})).catch((function(a){e.closeModal(),console.log(a)})),a.preventDefault()}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Nama Pengguna/Instansi"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:m,onChange:function(e){return o(e.target.value)}}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Username"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:p,onChange:function(e){return v(e.target.value)}}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"password",value:h,onChange:function(e){return g(e.target.value)}}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Role"),l.a.createElement("div",{className:"control"},l.a.createElement("div",{className:"select"},l.a.createElement("select",{value:O,onChange:function(e){return w(e.target.value)}},l.a.createElement("option",{value:"-"},"Non Admin"),l.a.createElement("option",{value:"super"},"Super User"),l.a.createElement("option",{value:"verif"},"Verified User"),l.a.createElement("option",{value:"bupati"},"Ajudan Bupati"),l.a.createElement("option",{value:"wakil"},"Ajudan Wakil Bupati"),l.a.createElement("option",{value:"sekda"},"Ajudan Sekretaris Daerah"),l.a.createElement("option",{value:"setda"},"Admin Sekretariat"),l.a.createElement("option",{value:"adipura"},"Admin Gedung Adipura"))))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("label",{className:"checkbox"},l.a.createElement("input",{type:"checkbox",checked:M,onChange:function(e){return Y(e.target.checked)}}),"\xa0Observer?"))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary\n                ".concat(A?" is-loading":"","\n                ")},"Simpan")),c?l.a.createElement(H,{id:c,getUsers:e.getUsers,closeModal:e.closeModal}):null)))}function H(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],r=t[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),o=m[0],d=m[1];return l.a.createElement("button",{type:"button",onClick:function(){if(!o)return d(!0);r(!0),fetch(T+e.id,{method:"DELETE",headers:{Authorization:"Bearer "+u()}}).then((function(){e.getUsers(),e.closeModal()})).catch((function(a){console.log(a),e.closeModal()}))},className:"button\n          ".concat(o?" is-danger":" is-warning","\n          ").concat(c?" is-loading":"","\n        ")},o?"Hapus Permanen!":"Hapus")}var P=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(""),i=Object(s.a)(r,2),m=i[0],u=i[1],d=Object(n.useState)(null),p=Object(s.a)(d,2),v=p[0],b=p[1],N=Object(n.useState)(!1),g=Object(s.a)(N,2),j=g[0],k=g[1],O=Object(n.useState)(!1),w=Object(s.a)(O,2),y=w[0],S=w[1],M=E();function Y(){k(!0),c([]),fetch(T).then((function(e){return e.json()})).then((function(e){return k(!1),c(e)})).catch((function(e){return console.log(e)}))}function C(e){return e.toLowerCase().indexOf(m.toLowerCase())>-1}return Object(n.useEffect)((function(){return Y()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"title"},"Pengguna"),"super"===M?l.a.createElement(h,{title:"Pengguna",searchVal:m,setSearchVal:u,setIsModalVisible:S}):null,j?l.a.createElement(o,null):null,t.length?l.a.createElement(f,{headers:[{text:"Nama",isHiddenMobile:!0},{text:"Username"},{text:"Role"}]},t.map((function(e){var a=C(e.name)||C(e.username),t=e.role?e.role.name:null,n=!!e.role&&e.role.isObserver;return l.a.createElement("tr",{key:e._id,style:{cursor:"pointer"},className:a?"":"is-hidden",onClick:function(){"super"===M&&(S(!0),b(e))}},l.a.createElement("td",{className:"is-hidden-mobile"},e.name),l.a.createElement("td",null,e.username),l.a.createElement("td",null,l.a.createElement("div",{className:"tags"},t?l.a.createElement("div",{className:"tag\n                          ".concat("-"===t?"is-hidden":"","\n                          ").concat("super"===t?" is-danger":"","\n                          ").concat("verif"===t?" is-primary":"","\n                          ").concat("bupati"===t?" is-link":"","\n                          ").concat("wakil"===t?" is-link":"","\n                          ").concat("sekda"===t?" is-link":"","\n                          ").concat("setda"===t?" is-info":"","\n                          ").concat("adipura"===t?" is-info":"","\n                        ")},t):null,n?l.a.createElement("div",{className:"tag is-warning"},"obs"):null)))}))):null,y?l.a.createElement(x,{user:v,getUsers:Y,closeModal:function(){S(!1),b(null)}}):null))};var B=function(e){var a,t=Object(m.f)().type,n=p(),c=E(),r=e.events;switch(t){case"setda":a=" Gedung & Ruang Rapat";break;case"adipura":a=" Gedung Adipura";break;case"bupati":a=" Bupati";break;case"wakil":a=" Wakil Bupati";break;case"sekda":a=" Sekretaris Daerah";break;default:a=" Kegiatan"}return l.a.createElement("div",{className:"evm"},l.a.createElement("div",{className:"title"},"Jadwal ",a),r.map((function(a){return l.a.createElement("div",{key:a._id,onClick:function(){"super"!==c&&c!==t||e.showModal(a)},className:"evm-item".concat(O()().local().format("YYYY-MM-DD")===O()(a.dateTime).local().format("YYYY-MM-DD")?" is-today":"","\n              ")},l.a.createElement("div",{className:"evm-left"},l.a.createElement("div",{className:"evm-date"},l.a.createElement(l.a.Fragment,null,a.dateTime?O()(a.dateTime).local().format("D MMM"):null,l.a.createElement("br",null),a.dateTime?O()(a.dateTime).local().format("YYYY"):null)),l.a.createElement("div",{className:"evm-time"},a.dateTime?O()(a.dateTime).local().format("HH:mm"):null)),l.a.createElement("div",{className:"evm-right"},l.a.createElement("div",{className:"evm-name"},a.name),l.a.createElement("div",{className:"evm-details"},a.place?l.a.createElement("div",{className:"evm-detail"},l.a.createElement("div",{className:"evm-icon"},l.a.createElement("i",{className:"fas fa-map-marker-alt"})),a.place):null,a.pic?l.a.createElement("div",{className:"evm-detail"},l.a.createElement("div",{className:"evm-icon"},l.a.createElement("i",{className:"fas fa-briefcase"})),a.pic,a.participant?" - ".concat(a.participant):null):null,a.notes&&"true"===n?l.a.createElement("div",{className:"evm-detail"},l.a.createElement("div",{className:"evm-icon"},l.a.createElement("i",{className:"fas fa-clipboard"})),a.notes):null)))})))};var J=function(e){var a,t=Object(m.f)().type,n=p(),c=E();switch(t){case"setda":a=" Gedung & Ruang Rapat";break;case"adipura":a=" Gedung Adipura";break;case"bupati":a=" Bupati";break;case"wakil":a=" Wakil Bupati";break;case"sekda":a=" Sekretaris Daerah";break;default:a=" Kegiatan"}return l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"title"},"Jadwal ",a),l.a.createElement("table",{className:"table is-striped is-fullwidth is-hoverable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Hari/Tgl"),l.a.createElement("th",null,"Jam"),l.a.createElement("th",null,"Tempat"),l.a.createElement("th",null,"Kegiatan"),l.a.createElement("th",null,"Unit Kerja"),l.a.createElement("th",null,"Catatan"))),l.a.createElement("tbody",null,e.events.map((function(a){var r=O()(a.dateTime).local(),s=e.match(a.name)||e.match(a.place)||e.match(a.pic);return l.a.createElement("tr",{key:a._id,style:{cursor:"pointer"},className:s?"":"is-hidden",onClick:function(){"super"!==c&&c!==t||e.showModal(a)}},l.a.createElement("td",null,r.format("dddd"),l.a.createElement("br",null),r.format("D MMM"),l.a.createElement("br",null),r.format("YYYY")),l.a.createElement("td",null,r.format("HH:mm")),l.a.createElement("td",null,a.place),l.a.createElement("td",null,l.a.createElement("b",null,a.name)),l.a.createElement("td",null,a.pic,a.participant?" (".concat(a.participant,")"):null),l.a.createElement("td",null,n?a.notes:null))})))))},I=function(e,a,t){return Array.from({length:(a-e)/t+1},(function(a,n){return e+n*t}))};var L=function(e){var a=Object(m.f)().type,t=E();return l.a.createElement("div",{className:"tm"},l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("div",{className:"select is-small"},l.a.createElement("select",{value:e.month,onChange:function(a){return e.setMonth(parseInt(a.target.value))}},I(1,12,1).map((function(e){return l.a.createElement("option",{key:e,value:e},O()(e,"M").format("MMMM"))}))))),l.a.createElement("div",{className:"control"},l.a.createElement("div",{className:"select is-small"},l.a.createElement("select",{value:e.year,onChange:function(a){return e.setYear(parseInt(a.target.value))}},I(2019,O()().add(3,"years").year(),1).map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))))),l.a.createElement("div",{className:"tm-buttons"},"super"===t||t===a?l.a.createElement("button",{className:"button is-small is-link",onClick:function(){return e.showModal()}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-plus"}))):null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.printEp,className:"button is-small is-primary"},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-print"})))))},U=function(e,a,t){return Array.from({length:(a-e)/t+1},(function(a,n){return e+n*t}))};var V=function(e){var a=E(),t=Object(m.f)().type;return l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-left"},l.a.createElement("div",{className:"level-item"},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("div",{className:"select"},l.a.createElement("select",{value:e.month,onChange:function(a){return e.setMonth(parseInt(a.target.value))}},U(1,12,1).map((function(e){return l.a.createElement("option",{key:e,value:e},O()(e,"M").format("MMMM"))}))))),l.a.createElement("div",{className:"control"},l.a.createElement("div",{className:"select"},l.a.createElement("select",{value:e.year,onChange:function(a){return e.setYear(parseInt(a.target.value))}},U(2019,O()().add(3,"years").year(),1).map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))))))),l.a.createElement("div",{className:"level-item"},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{type:"text",className:"input",placeholder:"ketik untuk mencari...",value:e.searchVal,onChange:function(a){return e.setSearchVal(a.target.value)}})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"button",className:"button".concat(e.searchVal?" is-danger":""),onClick:function(){return e.setSearchVal("")}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-backspace"}))))))),l.a.createElement("div",{className:"level-right"},"super"===a||a===t?l.a.createElement("div",{className:"level-item"},l.a.createElement("button",{className:"button is-link",onClick:function(){return e.showModal()}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-plus"})),l.a.createElement("span",null,"Tambah"))):null,l.a.createElement("div",{className:"level-item"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"button is-primary",href:e.printEp},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-print"})),l.a.createElement("span",null,"Cetak")))))};var W=function(e){var a="https://jadwalsetda.herokuapp.com/api/events/",t=Object(n.useState)(!1),c=Object(s.a)(t,2),r=c[0],i=c[1],m=Object(n.useState)(!1),o=Object(s.a)(m,2),d=o[0],E=o[1];return l.a.createElement("button",{type:"button",onClick:function(){if(!d)return E(!0);i(!0),fetch(a+e.id,{method:"DELETE",headers:{Authorization:"Bearer "+u()}}).then((function(){e.getEvents(),e.notify("Berhasil menghapus kegiatan"),e.closeModal()})).catch((function(a){console.log(a),e.closeModal()}))},className:"button\n          ".concat(d?"is-danger":" is-warning","\n          ").concat(r?" is-loading":"","\n        ")},d?"Hapus Permanen!":"Hapus")},_="https://jadwalsetda.herokuapp.com/api/events/";function K(e){var a=e.event?e.event._id:null,t=e.type||"invalid",c=d()||"no-id",r=e.event,i=Object(n.useState)(r?r.name:""),m=Object(s.a)(i,2),o=m[0],E=m[1],p=Object(n.useState)(r?r.place:""),v=Object(s.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(r?r.participant:0),g=Object(s.a)(h,2),j=g[0],k=g[1],w=Object(n.useState)(r?r.pic:""),y=Object(s.a)(w,2),S=y[0],M=y[1],Y=Object(n.useState)(r?r.notes:""),C=Object(s.a)(Y,2),D=C[0],A=C[1],T=Object(n.useState)(r?O()(r.dateTime).format("YYYY-MM-DD"):O()().format("YYYY-MM-DD")),x=Object(s.a)(T,2),H=x[0],P=x[1],B=Object(n.useState)(r?O()(r.dateTime).format("HH:mm"):"08:00"),J=Object(s.a)(B,2),I=J[0],L=J[1],U=Object(n.useState)(!1),V=Object(s.a)(U,2),K=V[0],R=V[1];return l.a.createElement(N,{closeModal:e.closeModal},l.a.createElement("h1",{className:"title"},a?"Ubah ":"Tambah ","Kegiatan"),l.a.createElement("form",{onSubmit:function(n){var l=a?_+a:_,r=a?"PUT":"POST",s={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+u()},i=JSON.stringify({name:o,place:b,dateTime:O()("".concat(H," ").concat(I),"YYYY-MM-DD HH:mm").utc().format("YYYY-MM-DD HH:mm"),participant:j,pic:S,type:t,admin:c,notes:D});R(!0),fetch(l,{method:r,headers:s,body:i}).then((function(){e.notify("berhasil menyimpan kegiatan"),e.getEvents(),e.closeModal()})).catch((function(a){e.closeModal(),console.log(a)})),n.preventDefault()}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Kegiatan/Acara"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:o,onChange:function(e){return E(e.target.value)},required:!0}))),"adipura"===t?null:l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Tempat/Lokasi"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:b,onChange:function(e){return f(e.target.value)},list:"places"}),l.a.createElement("datalist",{id:"places"},e.places?e.places.map((function(e){return l.a.createElement("option",{key:e._id,value:e.name})})):null))),"setda"===t||"adipura"===t?l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Unit Kerja"),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",value:S,onChange:function(e){return M(e.target.value)}})),"adipura"!==t?l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",style:{width:"5rem"},type:"number",value:j,onChange:function(e){return k(e.target.value)}})):null)):null,l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Waktu"),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control has-icons-left"},l.a.createElement("input",{className:"input",type:"date",value:H,onChange:function(e){return P(e.target.value)},required:!0}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-calendar"}))),l.a.createElement("div",{className:"control has-icons-left"},l.a.createElement("input",{className:"input",type:"time",value:I,onChange:function(e){return L(e.target.value)},required:!0}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-clock"}))))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Catatan"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea",value:D,onChange:function(e){return A(e.target.value)}}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary\n                ".concat(K?" is-loading":"","\n                ")},"Simpan")),a?l.a.createElement("div",{className:"control"},l.a.createElement(W,{id:a,getEvents:e.getEvents,closeModal:e.closeModal,notify:e.notify})):null,l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"button",className:"button is-text",onClick:e.closeModal},"Batal")))))}var R=function(e){var a,t,c=Object(m.f)().type,r=Object(n.useState)([]),i=Object(s.a)(r,2),u=i[0],d=i[1],E=Object(n.useState)([]),p=Object(s.a)(E,2),v=p[0],b=p[1],f=Object(n.useState)(O()().local().month()+1),h=Object(s.a)(f,2),N=h[0],g=h[1],j=Object(n.useState)(O()().local().year()),k=Object(s.a)(j,2),w=k[0],y=k[1],S=Object(n.useState)(""),M=Object(s.a)(S,2),Y=M[0],C=M[1],D=Object(n.useState)(!1),A=Object(s.a)(D,2),T=A[0],x=A[1],H=Object(n.useState)(!1),P=Object(s.a)(H,2),I=P[0],U=P[1],W=Object(n.useState)(null),R=Object(s.a)(W,2),z=R[0],G=R[1],F=Object(n.useState)({width:window.innerWidth,height:window.innerHeight}),q=Object(s.a)(F,2),$=q[0],Q=q[1],X="https://jadwalsetda.herokuapp.com/print.html?";function Z(){var e,a;d([]),x(!0);var t=_+"?";c&&(t+="type=".concat(c)),N&&w&&(e=O()("".concat(w,")-").concat(N),"YYYY-MM").startOf("month").utc().format("YYYY-MM-DD HH:mm"),a=O()(e,"YYYY-MM-DD HH:mm").add(1,"months").endOf("month").utc().format("YYYY-MM-DD HH:mm"),t+="&from=".concat(e,"&to=").concat(a)),fetch(t).then((function(e){return e.json()})).then((function(e){x(!1),d(e)})).catch((function(e){console.log(e),x(!1)}))}function ee(e){return e.toLowerCase().indexOf(Y.toLowerCase())>-1}function ae(e){U(!0),e&&G(e)}return c&&(X+="type=".concat(c)),N&&w&&(a=O()("".concat(w,")-").concat(N),"YYYY-MM").startOf("month").local().format("YYYY-MM-DD HH:mm"),t=O()("".concat(w,")-").concat(N),"YYYY-MM").endOf("month").local().format("YYYY-MM-DD HH:mm"),X+="&from=".concat(a,"&to=").concat(t)),Object(n.useEffect)((function(){Z(),fetch("https://jadwalsetda.herokuapp.com/api/places").then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){console.log(e)}))}),[c,N,w]),Object(n.useEffect)((function(){function e(){Q({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[Q]),l.a.createElement(l.a.Fragment,null,$.width<=768?l.a.createElement(L,{printEp:X,showModal:ae,month:N,setMonth:g,year:w,setYear:y}):l.a.createElement(V,{printEp:X,showModal:ae,month:N,setMonth:g,year:w,setYear:y,searchVal:Y,setSearchVal:C}),T?l.a.createElement(o,null):null,T||u.length?null:l.a.createElement("div",{className:"box"},"Tidak ada data..."),u.length?$.width<=768?l.a.createElement(B,{events:u,match:ee,showModal:ae}):l.a.createElement(J,{events:u,match:ee,showModal:ae}):null,I?l.a.createElement(K,{type:c,event:z,getEvents:Z,closeModal:function(){G(null),U(!1)},notify:e.notify,places:v}):null)};var z=function(){var e=Object(n.useState)((localStorage.getItem("name")?localStorage.getItem("name"):null)||d()),a=Object(s.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(null),o=Object(s.a)(r,2),u=o[0],E=o[1],p=Object(n.useState)({width:window.innerWidth,height:window.innerHeight}),f=Object(s.a)(p,2),h=f[0],N=f[1];function k(e){E(e),setTimeout((function(){E(null)}),5e3)}function O(){N({width:window.innerWidth,height:window.innerHeight})}return Object(n.useEffect)((function(){return window.addEventListener("resize",O),function(){return window.removeEventListener("resize",O)}}),[]),l.a.createElement(i.a,null,l.a.createElement(v,{name:t,setName:c,notify:k}),l.a.createElement("div",{className:"container"},u?l.a.createElement(g,{dismiss:function(){return E(null)}},u):null,l.a.createElement("div",{className:"columns"},l.a.createElement(b,null),l.a.createElement("div",{className:"column"},l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:w}),l.a.createElement(m.a,{path:"/places",component:A}),l.a.createElement(m.a,{path:"/about",component:y}),l.a.createElement(m.a,{path:"/events/:type",render:function(e){return l.a.createElement(R,Object.assign({},e,{notify:k,dimension:h}))}}),l.a.createElement(m.a,{path:"/login",render:function(e){return l.a.createElement(Y,Object.assign({},e,{notify:k,setName:c}))}}),l.a.createElement(m.a,{path:"/users",component:P}),l.a.createElement(m.a,{component:S})),l.a.createElement("article",{className:"message is-small is-warning",style:{marginTop:"1rem"}},l.a.createElement("div",{className:"message-body"},"Aplikasi dalam tahap uji coba. Laporkan ke developer jika terjadi masalah."))))),l.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(30),t(31),t(32);r.a.render(l.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.51b5d16f.chunk.js.map